<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.7.4 at 2018-03-02 
 | Rendered using Apache Maven Fluido Skin 1.6
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20180302" />
    <meta http-equiv="Content-Language" content="en" />
    <title>microBean Configuration &#x2013; microBean Configuration</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.6.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />
      <script type="text/javascript" src="./js/apache-maven-fluido-1.6.min.js"></script>
      </head>
    <body class="topBarDisabled">
      <div class="container-fluid">
      <div id="banner">
        <div class="pull-left"><div id="bannerLeft"><h2>microBean Configuration</h2>
</div>
</div>
        <div class="pull-right"><a href="./" id="bannerRight"><img src="https://avatars0.githubusercontent.com/u/25515632?s=60"  alt="Î¼b microbean-configuration"/></a></div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
        <li id="publishDate">Last Published: 2018-03-02</li>
      <li id="projectVersion" class="pull-right">Version: 0.3.1</li>
        </ul>
      </div>
      <div class="row-fluid">
        <div id="leftColumn" class="span2">
          <div class="well sidebar-nav">
<ul class="nav nav-list">
          <li class="nav-header">Documentation</li>
    <li class="active"><a href="#"><span class="none"></span>Overview</a>
  </li>
    <li><a href="apidocs/index.html" title="JavaDocs"><span class="none"></span>JavaDocs</a>  </li>
    <li><a href="https://github.com/microbean/microbean-configuration/" class="externalLink" title="Github Repository"><span class="none"></span>Github Repository</a>  </li>
    <li><a href="examples.html" title="Examples"><span class="none"></span>Examples</a>  </li>
          <li class="nav-header">Project Documentation</li>
    <li><a href="project-info.html" title="Project Information"><span class="icon-chevron-down"></span>Project Information</a>
      <ul class="nav nav-list">
    <li><a href="dependencies.html" title="Dependencies"><span class="none"></span>Dependencies</a>  </li>
    <li><a href="dependency-info.html" title="Dependency Information"><span class="none"></span>Dependency Information</a>  </li>
    <li><a href="dependency-management.html" title="Dependency Management"><span class="none"></span>Dependency Management</a>  </li>
    <li><a href="distribution-management.html" title="Distribution Management"><span class="none"></span>Distribution Management</a>  </li>
    <li class="active"><a href="#"><span class="none"></span>About</a>
  </li>
    <li><a href="issue-tracking.html" title="Issue Management"><span class="none"></span>Issue Management</a>  </li>
    <li><a href="license.html" title="Licenses"><span class="none"></span>Licenses</a>  </li>
    <li><a href="plugin-management.html" title="Plugin Management"><span class="none"></span>Plugin Management</a>  </li>
    <li><a href="plugins.html" title="Plugins"><span class="none"></span>Plugins</a>  </li>
    <li><a href="team-list.html" title="Team"><span class="none"></span>Team</a>  </li>
    <li><a href="source-repository.html" title="Source Code Management"><span class="none"></span>Source Code Management</a>  </li>
    <li><a href="project-summary.html" title="Summary"><span class="none"></span>Summary</a>  </li>
      </ul>
  </li>
    <li><a href="project-reports.html" title="Project Reports"><span class="icon-chevron-right"></span>Project Reports</a>  </li>
  </ul>
          <hr />
          <div id="poweredBy">
              <div class="clear"></div>
              <div class="clear"></div>
              <div class="clear"></div>
              <div class="clear"></div>
  <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy"><img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" /></a>
              </div>
          </div>
        </div>
        <div id="bodyColumn"  class="span10" >
<h1>microBean Configuration</h1>
<p><a class="externalLink" href="https://travis-ci.org/microbean/microbean-configuration"><img src="https://travis-ci.org/microbean/microbean-configuration.svg?branch=master" alt="Build Status" /></a> <a class="externalLink" href="https://maven-badges.herokuapp.com/maven-central/org.microbean/microbean-configuration"><img src="https://maven-badges.herokuapp.com/maven-central/org.microbean/microbean-configuration/badge.svg" alt="Maven Central" /></a></p>
<p>The microBean Configuration project provides yet another framework for acquiring configuration values from within a Java SE application, implementing the <a class="externalLink" href="https://microbean.github.io/microbean-configuration-api/">microBean Configuration API project</a>.</p>
<p>There are many configuration frameworks for Java SE. All focus on making it easy for application developers to ask for configuration values without having to know what systems provide those values.</p>
<p>microBean Configuration takes a slightly different approach. The application&#x2019;s full configuration is considered to be located by its <i>configuration coordinates</i> within <i>configuration space</i>. Within that space reside its actual configuration properties. This terminology is important for understanding how microBean Configuration works.</p>
<h1>Terminology</h1>
<div class="section">
<h2><a name="Configuration_Space"></a>Configuration Space</h2>
<p><i>Configuration space</i> is defined as the unbounded universe of configuration properties and their values, for all applications, regardless of which system or systems might define or house them. Dimensions within this space might include locale, region, data center identifier, tenant identifier&#x2014;these are only examples. Of note is that these are dimensions, not nodes within a hierarchy.</p></div>
<div class="section">
<h2><a name="Configuration_Coordinates"></a>Configuration Coordinates</h2>
<p><i>Configuration coordinates</i> are those which semantically locate an application in configuration space. So an application run in the US locale, in the test environment, located in the Western region of a cloud provider, in the Nevada data center and run on behalf of tenant number 34 (to use the examples from the Configuration Space section above) is located in configuration space with, perhaps, the following logical configuration coordinates:</p>

<div class="source">
<div class="source"><pre class="prettyprint">locale=en_US
environment=test
region=west
dataCenter=Nevada
tenantId=34
</pre></div></div>
<p>While these coordinates look like configuration values themselves, they are configuration values for locating the application in configuration space, not (normally) the values that the application will be looking up during the course of its execution.</p></div>
<div class="section">
<h2><a name="Configuration_Properties"></a>Configuration Properties</h2>
<p><i>Configuration properties</i> are the names for which (non-hard-coded) values are sought by an application. <tt>portNumber</tt>, <tt>timeoutInSeconds</tt>, <tt>databaseUrl</tt> and <tt>userEmail</tt> are arbitrary examles of configuration properties. These are, by definition, non-specific identifiers. They gain specificity only when further pinpointed in configuration space by a set of configuration coordinates. That is, <tt>databaseUrl</tt> is a configuration property that might have many different possible values for many different possible applications. The configuration property <tt>databaseUrl</tt> used by a particular application is only relevant when it is interpreted in the context of the appropriate set of configuration coordinates. For example, a configuration author may only be able to write a value for the <tt>databaseUrl</tt> configuration property when she knows that the value is supposed to be for the test environment in the Nevada data center on behalf of tenant 34. Or she may also be able to write a value for the <tt>databaseUrl</tt> configuration property when she knows that the value is supposed to be for the test environment and the Western region. As you can see, configuration coordinates are not hierarchical, and neither (necessarily) are configuration properties.</p></div>
<div class="section">
<h2><a name="Configuration_Values"></a>Configuration Values</h2>
<p><i>Configuration values</i> are two things: the <i>values received by an application</i> situated in configuration space by its configuration coordinates when that application asks for a value for a configuration property, and <i>values that are written</i> in such a way that they may be found by one or more such applications.</p>
<p>For example, a configuration author might write a value, <tt>red</tt>, for a hypothetical <tt>color</tt> configuration property, into a system somewhere, once. The author may decide (let&#x2019;s say) that this value is suited for any application possessing any configuration coordinates. In this case, the value received by an instance of application <i>A</i> identified by one set of configuration coordinates, asking for a value for the <tt>color</tt> configuration property will be the same as the value received by another instance of <i>A</i> identified by a different set of configuration coordinates asking for a value for the <tt>color</tt> configuration property. The author thus wrote one configuration value, but from the standpoint of the querying application instances, there are two values in play.</p>
<p>(<i>Configuration value</i> may also refer to the <a href="apidocs/org/microbean/configuration/spi/ConfigurationValue.html"><tt>ConfigurationValue</tt></a> service provider class returned by <a href="apidocs/org/microbean/configuration/spi/Configuration.html"><tt>Configuration</tt></a> instances.)</p></div>
<div class="section">
<h2><a name="Configuration"></a>Configuration</h2>
<p>A <i>configuration</i> is simply a collection of some configuration properties and their values designated for one or more points&#x2014;identified by configuration coordinates&#x2014;in configuration space.</p>
<p>(<i>Configuration</i> can also mean the actual <a href="apidocs/org/microbean/configuration/spi/Configuration.html"><tt>Configuration</tt></a> object in the framework.)</p>
<h1>Usage Patterns</h1></div>
<div class="section">
<h2><a name="Application"></a>Application</h2>
<p>Applications wishing to use the microBean Configuration project create a <a href="apidocs/org/microbean/configuration/Configurations.html"><tt>Configurations</tt></a> object and then call its <a href="apidocs/org/microbean/configuration/Configurations.html#getValue-java.util.Map-java.lang.String-"><tt>getValue()</tt></a> methods. The <a href="apidocs/org/microbean/configuration/Configurations.html"><tt>Configurations</tt></a> object is the centerpiece of the microBean Configuration framework.</p></div>
<div class="section">
<h2><a name="Deployment_and_Integration"></a>Deployment and Integration</h2>
<p>Individual configurations are represented by implementations of the <a href="apidocs/org/microbean/configuration/spi/Configuration.html"><tt>Configuration</tt></a> service provider interface. These implementations are loaded at <a href="apidocs/org/microbean/configuration/Configurations.html"><tt>Configurations</tt></a> <a href="apidocs/org/microbean/configuration/Configurations.html#Configurations--">creation time</a> by the standard Java SE <a class="externalLink" href="https://docs.oracle.com/javase/8/docs/api/java/util/ServiceLoader.html"><tt>ServiceLoader</tt> infrastructure</a>. To activate a given <a href="apidocs/org/microbean/configuration/spi/Configuration.html"><tt>Configuration</tt></a> implementation, put the name of its class on one line in a file named <tt>META-INF/services/org.microbean.configuration.spi.Configuration</tt> located on the classpath of the application.</p>
<p>A <a href="apidocs/org/microbean/configuration/spi/Configuration.html"><tt>Configuration</tt></a> implementation is responsible for determining whether it contains a configuration value that is suitable for a supplied set of configuration coordinates and a configuration property. If it does not contain such a value, then it returns <tt>null</tt>. If it <i>does</i> contain such a value, then it must not only return the <tt>String</tt> value it houses, but also a set of configuration coordinates for which that value is suitable.</p>
<p>The set of configuration coordinates returned is either exactly the set supplied to the <a href="apidocs/org/microbean/configuration/spi/Configuration.html"><tt>Configuration</tt></a>, or a subset of it. This causes the returned value to be seen as an <i>exact match</i> or a merely <i>suitable match</i>. You can think of matches in terms of specificity: a configuration value that is said to exactly match a configuration property and a set of configuration coordinates is maximally specific; a configuration value that is said to suitable match a configuration property and a set of configuration coordinates is less specific.</p></div>
<div class="section">
<h2><a name="Conversion"></a>Conversion</h2>
<p>Configuration values are, at their root, always <tt>String</tt>s. They are converted to other types by <a href="apidocs/org/microbean/configuration/spi/Converter.html"><tt>Converter</tt>s</a>. Like <a href="apidocs/org/microbean/configuration/spi/Configuration.html"><tt>Configuration</tt></a> instances, <a href="apidocs/org/microbean/configuration/spi/Converter.html"><tt>Converter</tt>s</a> are loaded by the standard Java SE <a class="externalLink" href="https://docs.oracle.com/javase/8/docs/api/java/util/ServiceLoader.html"><tt>ServiceLoader</tt> infrastructure</a>. To activate a given <a href="apidocs/org/microbean/configuration/spi/Converter.html"><tt>Converter</tt></a> implementation, put the name of its class on one line in a file named <tt>META-INF/services/org.microbean.configuration.spi.Converter</tt> located on the classpath of the application.</p>
<p>Clients who wish to understand what <a class="externalLink" href="https://docs.oracle.com/javase/8/docs/api/java/lang/reflect/Type.html"><tt>Type</tt>s</a> exist to which <tt>String</tt> configuration values may be converted may call the <a href="apidocs/org/microbean/configuration/Configurations.html#getConversionTypes--"><tt>Configurations#getConversionTypes()</tt></a> method.</p></div>
<div class="section">
<h2><a name="Dispute_Arbitration"></a>Dispute Arbitration</h2>
<p>From time to time, a configuration property may have several values that are suitable for it. For example, for a hypothetical configuration property named <tt>databaseUrl</tt>, there may be a configuration value assigned to it for the configuration coordinates represented by this listing:</p>

<div class="source">
<div class="source"><pre class="prettyprint">environment=test
tenantId=34
</pre></div></div>
<p>&#x2026;and a different value assigned to it suitable for this listing:</p>

<div class="source">
<div class="source"><pre class="prettyprint">environment=test
dataCenter=Nevada
</pre></div></div>
<p>Both sets of configuration coordinates represent suitable matches for application located in configuration space by the following coordinates:</p>

<div class="source">
<div class="source"><pre class="prettyprint">locale=en_US
environment=test
region=west
dataCenter=Nevada
tenantId=34
</pre></div></div>
<p>&#x2026;but neither is maximally specific. So should the application use the value suitable for the first listing, or the value suitable for the second listing?</p>
<p>This is a <i>configuration dispute</i>. Configuration disputes may be resolved by <a href="apidocs/org/microbean/configuration/spi/Arbiter.html"><tt>Arbiter</tt></a> instances. Like <a href="apidocs/org/microbean/configuration/spi/Configuration.html"><tt>Configuration</tt></a> instances, <a href="apidocs/org/microbean/configuration/spi/Arbiter.html"><tt>Arbiter</tt>s</a> are loaded by the standard Java SE <a class="externalLink" href="https://docs.oracle.com/javase/8/docs/api/java/util/ServiceLoader.html"><tt>ServiceLoader</tt> infrastructure</a>. To activate a given <a href="apidocs/org/microbean/configuration/spi/Arbiter.html"><tt>Arbiter</tt></a> implementation, put the name of its class on one line in a file named <tt>META-INF/services/org.microbean.configuration.spi.Arbiter</tt> located on the classpath of the application.</p></div>
        </div>
      </div>
    </div>
    <hr/>
    <footer>
      <div class="container-fluid">
        <div class="row-fluid">
            <p>Copyright &copy;2017&#x2013;2018
<a href="http://microbean.systems/">microBean</a>.
All rights reserved.</p>
        </div>
        </div>
    </footer>
    </body>
</html>
